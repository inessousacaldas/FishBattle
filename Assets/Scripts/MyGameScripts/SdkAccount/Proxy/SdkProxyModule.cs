// **********************************************************************
// Copyright (c) 2016 Baoyugame. All rights reserved.
// Author : Xianjian
// Created : 9/26/2016 11:53:06 AM
// Desc	: Auto generated by MarsZ. update this if need.
// **********************************************************************

using UnityEngine;
using System.Collections.Generic;
using SdkAccountDto;
public static class SdkProxyModule
{
    public static void OpenLogin()
    {
        //测试
        //ProxyLoginModule.OpenTestSdk();
        //return;

        List<AccountDto> accountList = SdkAccountModel.Instance.GetLastAccount();
        if (accountList.Count == 0)
        {
            OpenModule<SdkSelectLoginController>(SdkSelectLoginView.NAME);
        }
        else
        {
            OpenModule<SdkQuickLoginController>(SdkQuickLoginView.NAME);
        }
    }

    public static void OpenBind()
    {

    }

    public static void OpenGameCenter()
    {
        var com = OpenModule<SdkGameCenterController>(SdkGameCenterView.NAME, SdkModuleMgr.ModuleType.gameEnter);
        com.RefreshShow();
    }

    public static void ClearModule()
    {
        SdkModuleMgr.Instance.ClearModule();
    }

    public static T OpenModule<T>(string name, SdkModuleMgr.ModuleType type = SdkModuleMgr.ModuleType.preLogin) where T : Component, IViewController
    {
        SdkBaseController.SetModuleType(type);
        GameObject module = SdkModuleMgr.Instance.OpenModule(name, type);
        var com = module.GetMissingComponent<T>();
        return com;
    }

    public static void CloseModuleSlow(string name, SdkModuleMgr.ModuleType type = SdkModuleMgr.ModuleType.preLogin)
    {
        SdkModuleMgr.Instance.CloseModuleSlow(name, type);
    }

    public static void ShowTips(string tips)
    {
        SdkNotifyTipController.Instance.ShowTips(tips);
    }

    public static void SetModuleType(SdkModuleMgr.ModuleType type)
    {
        SdkBaseController.SetModuleType(type);
    }
}